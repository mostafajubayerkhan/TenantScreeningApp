{% extends 'base.html' %}
{% load static %}

{% block title %}Apply for {{ property.title }} - TenantScreening{% endblock %}

{% block content %}
<section class="section">
    <div class="container" style="max-width: 700px;">
        <h1 style="margin-bottom: var(--spacing-md);">Apply for {{ property.title }}</h1>
        <p style="color: var(--color-gray-600); margin-bottom: var(--spacing-xl);">
            üìç {{ property.city }}, {{ property.state }} | ${{ property.monthly_rent }}/month
        </p>

        <div class="card">
            <div class="card-body">
                <form method="POST">
                    {% csrf_token %}

                    <h3 style="margin-bottom: var(--spacing-lg);">Personal Information</h3>

                    <div class="form-group">
                        <label for="{{ form.current_address.id_for_label }}" class="form-label">Current Address
                            *</label>
                        {{ form.current_address }}
                        {% if form.current_address.errors %}
                        <div style="color: var(--color-warning); font-size: 0.875rem; margin-top: var(--spacing-xs);">
                            {{ form.current_address.errors }}
                        </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.move_in_date.id_for_label }}" class="form-label">Desired Move-in Date
                            *</label>
                        {{ form.move_in_date }}
                        {% if form.move_in_date.errors %}
                        <div style="color: var(--color-warning); font-size: 0.875rem; margin-top: var(--spacing-xs);">
                            {{ form.move_in_date.errors }}
                        </div>
                        {% endif %}
                    </div>

                    <h3 style="margin-top: var(--spacing-xl); margin-bottom: var(--spacing-lg);">Employment Information
                    </h3>

                    <div class="form-group">
                        <label for="{{ form.employer_name.id_for_label }}" class="form-label">Employer Name *</label>
                        {{ form.employer_name }}
                        {% if form.employer_name.errors %}
                        <div style="color: var(--color-warning); font-size: 0.875rem; margin-top: var(--spacing-xs);">
                            {{ form.employer_name.errors }}
                        </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.job_title.id_for_label }}" class="form-label">Job Title *</label>
                        {{ form.job_title }}
                        {% if form.job_title.errors %}
                        <div style="color: var(--color-warning); font-size: 0.875rem; margin-top: var(--spacing-xs);">
                            {{ form.job_title.errors }}
                        </div>
                        {% endif %}
                    </div>

                    <div class="grid grid-2">
                        <div class="form-group">
                            <label for="{{ form.annual_income.id_for_label }}" class="form-label">Annual Income ($)
                                *</label>
                            {{ form.annual_income }}
                            {% if form.annual_income.errors %}
                            <div
                                style="color: var(--color-warning); font-size: 0.875rem; margin-top: var(--spacing-xs);">
                                {{ form.annual_income.errors }}
                            </div>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <label for="{{ form.employment_duration.id_for_label }}" class="form-label">Employment
                                Duration *</label>
                            {{ form.employment_duration }}
                            {% if form.employment_duration.errors %}
                            <div
                                style="color: var(--color-warning); font-size: 0.875rem; margin-top: var(--spacing-xs);">
                                {{ form.employment_duration.errors }}
                            </div>
                            {% endif %}
                        </div>
                    </div>

                    <h3 style="margin-top: var(--spacing-xl); margin-bottom: var(--spacing-lg);">Additional Information
                    </h3>

                    <div class="form-group">
                        <label for="{{ form.number_of_occupants.id_for_label }}" class="form-label">Number of Occupants
                            *</label>
                        {{ form.number_of_occupants }}
                        {% if form.number_of_occupants.errors %}
                        <div style="color: var(--color-warning); font-size: 0.875rem; margin-top: var(--spacing-xs);">
                            {{ form.number_of_occupants.errors }}
                        </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <div style="display: flex; align-items: center; gap: var(--spacing-sm);">
                            {{ form.has_pets }}
                            <label for="{{ form.has_pets.id_for_label }}" class="form-label"
                                style="margin-bottom: 0;">Do you have pets?</label>
                        </div>
                        {% if form.has_pets.errors %}
                        <div style="color: var(--color-warning); font-size: 0.875rem; margin-top: var(--spacing-xs);">
                            {{ form.has_pets.errors }}
                        </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.pet_details.id_for_label }}" class="form-label">Pet Details (if
                            applicable)</label>
                        {{ form.pet_details }}
                        {% if form.pet_details.errors %}
                        <div style="color: var(--color-warning); font-size: 0.875rem; margin-top: var(--spacing-xs);">
                            {{ form.pet_details.errors }}
                        </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.additional_notes.id_for_label }}" class="form-label">Additional
                            Notes</label>
                        {{ form.additional_notes }}
                        {% if form.additional_notes.errors %}
                        <div style="color: var(--color-warning); font-size: 0.875rem; margin-top: var(--spacing-xs);">
                            {{ form.additional_notes.errors }}
                        </div>
                        {% endif %}
                    </div>

                    <div style="display: flex; gap: var(--spacing-md); margin-top: var(--spacing-xl);">
                        <button type="submit" class="btn btn-accent btn-large">
                            Submit Application
                        </button>
                        <a href="{% url 'property_detail' property.pk %}" class="btn btn-outline">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}